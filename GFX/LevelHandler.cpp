#include <stdint.h>
#include <assert.h>

#include "../Engine/ObjectDefinitions.h"
#include "LevelHandler.h"
#include "../Common.h"
#include "gfx.h"

const uint8_t GridLevel_ScreenResolution_0[MAX_LEVELS][7][12] =  {
{		{1, 8, 1, 1, 1, 1, 8, 7, 9, 1, 0, 5},		/* level 1 */
		{2, 8, 1, 1, 1, 6, 1, 1, 1, 6, 0, 1},
		{1, 8, 1, 2, 0, 0, 0, 0, 0, 0, 0, 1},
		{1, 8, 1, 0, 0, 2, 1, 7, 1, 9, 9, 9},
		{8, 8, 1, 0, 1, 8, 7, 7, 7, 1, 1, 2},
		{9, 1, 1, 3, 1, 7, 1, 7, 1, 1, 1, 1},
		{1, 1, 1, 1, 9, 1, 1, 7, 2, 1, 1, 1}}
,
{		{2, 2, 2, 2, 2, 1, 1, 6, 1, 2, 2, 2},		/* level 2 */
		{1, 1, 9, 6, 1, 8, 8, 8, 8, 0, 0, 5},
		{1, 9, 9, 9, 1, 6, 1, 1, 1, 0, 2, 1},
		{1, 6, 9, 1, 1, 8, 1, 11, 2, 0, 2, 1},
		{1, 1, 1, 1, 1, 8, 1, 0, 0, 0, 1, 1},
		{7, 1, 1, 1, 1, 8, 1, 0, 1, 1, 7, 7},
		{7, 7, 1, 1, 3, 0, 0, 0, 1, 1, 7, 7}}
,
{		{2, 1, 1, 1, 2, 1, 1, 6, 2, 2, 1, 5},		/*level 3*/
		{1, 9, 6, 9, 9, 9, 9, 9, 9, 9, 9, 0},
		{6, 9, 8, 8, 8, 8, 8, 8, 8, 8, 9, 0},
		{1, 9, 8, 7, 7, 7, 7, 7, 7, 8, 9, 0},
		{1, 9, 8, 8, 8, 8, 8, 8, 2, 8, 9, 0},
		{1, 9, 9, 9, 2, 9, 9, 9, 9, 9, 9, 0},
		{2, 1, 1, 1, 2, 10, 3, 0, 0, 0, 0, 0}}
,
{		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},		/* level 4 */
		{0, 7, 7, 1, 8, 8, 8, 1, 9, 9, 1, 1},
		{0, 7, 1, 1, 8, 1, 8, 1, 9, 6, 9, 1},
		{0, 7, 6, 1, 8, 6, 1, 1, 9, 1, 9, 1},
		{0, 7, 1, 1, 1, 8, 8, 1, 9, 1, 9, 1},
		{0, 7, 7, 1, 8, 8, 8, 1, 9, 9, 9, 11},
		{3, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 2}}
,
{		{2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2},		/* level 5 */
		{2, 8, 8, 8, 1, 0, 0, 0, 0, 0, 0, 5},
		{2, 7, 2, 9, 6, 0, 2, 2, 6, 2, 6, 2},
		{2, 7, 2, 9, 1, 0, 2, 1, 1, 1, 1, 2},
		{2, 7, 2, 2, 6, 0, 2, 1, 1,11, 1, 2},
		{2, 1, 1, 1, 1, 3, 2, 8, 2, 8, 1, 2},
		{2, 1, 1, 1, 1, 1, 9, 9, 9, 9, 9, 2}}
,
{		{0, 10, 6, 6, 1, 9, 7, 1, 8, 8, 8, 4},		/* level 6 */
		{0, 1, 1, 1, 9, 7, 2, 2, 2, 1, 1, 0},
		{0, 0, 0, 1, 1, 1, 6, 6, 2, 0, 0, 0},
		{2, 1, 0, 0, 1, 1, 7, 7, 0, 0, 1, 1},
		{7, 2, 1, 0, 0, 3, 0, 0, 0, 2, 2, 2},
		{8, 7, 2, 1, 1, 1, 1, 1, 1, 2, 9, 9},
		{9, 8, 7, 1, 1, 1, 1, 11, 1, 1, 7, 7}}
,
{		{8, 8, 8, 2, 0, 0, 0, 6, 0, 0, 0, 5},		/* level 7 */
		{2, 2, 11, 2, 0, 9, 0, 9, 0, 6, 1, 7},
		{8, 1, 0, 0, 0, 9, 0, 0, 0, 1, 1, 7},
		{8, 1, 3, 9, 9, 2, 9, 9, 2, 1, 1, 2},
		{8, 1, 0, 0, 0, 9, 0, 0, 0, 1, 1, 7},
		{2, 1, 1, 2, 0, 9, 0, 2, 0, 1, 10, 7},
		{8, 8, 8, 2, 0, 0, 0, 9, 0, 0, 0, 0}}
,
{		{7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},		/* level 8 */
		{7, 0, 1, 2, 7, 1, 7, 11, 7, 7, 6, 0},
		{7, 0, 1, 2, 2, 2, 2, 2, 7, 6, 1, 0},
		{1, 0, 0, 0, 1, 7, 7, 2, 1, 1, 1, 0},
		{2, 1, 2, 0, 1, 2, 2, 0, 0, 0, 0, 0},
		{10, 6, 1, 0, 1, 7, 7, 0, 1, 7, 2, 2},
		{7, 7, 7, 0, 3, 0, 0, 0, 1, 7, 7, 7}}
};

const uint8_t GridLevel_ScreenResolution_2[MAX_LEVELS][10][16] =  {
{		{1, 8, 1, 1, 1, 1, 1, 8, 7, 9, 1, 0, 0, 0, 0, 5},	/*level 1*/
		{2, 8, 8, 1, 1, 2, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1},
		{1, 8, 1, 1, 2, 1, 6, 1, 1, 1, 1, 0, 1, 1, 1, 1},
		{1, 8, 1, 2, 1, 1, 1, 1, 1, 1, 1, 0, 9, 9, 9, 1},
		{1, 8, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1},
		{1, 1, 2, 1, 0, 1, 1, 1, 2, 6, 1, 1, 1, 1, 1, 1},
		{1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 7, 7, 7, 1, 1, 1},
		{1, 1, 11, 1, 0, 9, 1, 1, 2, 1, 1, 7, 7, 7 ,7, 1},
		{0, 0, 0, 0, 0, 8, 1, 2, 1, 10, 1, 1, 2, 7, 7, 1},
		{1, 2, 1, 3, 0, 7, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2}}
,
{		{0, 0, 0, 0, 10, 0, 2, 1, 1, 6, 6, 1, 2, 2, 2, 2},	/*level 2*/
		{1, 1, 9, 9, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 5},
		{1, 6, 9, 9, 6, 0, 1, 8, 8, 8, 8, 8, 0, 1, 1, 1},
		{9, 9, 9, 9, 9, 0, 1, 8, 8, 8, 8, 8, 0, 1, 2, 1},
		{6, 9, 9, 9, 6, 0, 1, 1, 6, 1, 1, 1, 0, 1, 2, 1},
		{1, 1, 9, 9, 1, 0, 1, 7, 8, 1, 1, 2, 0, 1, 2, 1},
		{1, 1, 6, 6, 1, 0, 7, 8, 7, 8, 0, 0, 0, 1, 1, 1},
		{1, 1, 1, 1, 1, 0, 1, 7, 8, 1, 0, 11, 1, 7, 7, 1},
		{7, 1, 1, 1, 2, 0, 2, 1, 1, 1, 0, 1, 1, 7, 7, 1},
		{7, 7, 1, 1, 2, 0, 0, 3, 0, 0, 0, 1, 2, 7, 7, 7}}
,
{		{2, 1, 1, 1, 10, 2, 1, 1, 1, 1, 6, 2, 2, 1, 0, 5},	/*level 3*/
		{1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 2},
		{1, 9, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 9, 0, 2},
		{1, 9, 8, 7, 7, 7, 1, 7, 7, 7, 1, 7, 8, 9, 0, 2},
		{1, 9, 8, 2, 6, 1, 6, 1, 6, 1, 6, 7, 8, 9, 0, 2},
		{2, 9, 8, 7, 1, 1, 1, 1, 1, 1, 11, 2, 8, 9, 0, 2},
		{1, 9, 8, 7, 7, 7, 1, 7, 7, 7, 1, 7, 8, 9, 0, 2},
		{1, 9, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 9, 0, 2},
		{1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 2},
		{2, 1, 1, 1, 1, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 2}}
,
{		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},	/*level 4*/
		{0, 7, 7, 7, 7, 1, 8, 8, 8, 8, 1, 9, 9, 9, 1, 1},
		{0, 7, 1, 1, 7, 1, 8, 1, 1, 8, 1, 9, 1, 1, 9, 1},
		{0, 7, 1, 1, 1, 1, 8, 1, 1, 1, 1, 9, 11, 1, 9, 1},
		{0, 7, 6, 1, 1, 1, 8, 8, 6, 1, 1, 9, 1, 1, 9, 1},
		{0, 7, 1, 10, 1, 1, 1, 1, 8, 8, 1, 9, 1, 1, 9, 1},
		{0, 7, 1, 1, 6, 1, 1, 1, 1, 8, 1, 9, 1, 1, 9, 1},
		{0, 7, 1, 1, 7, 1, 8, 1, 1, 8, 1, 9, 1, 6, 9, 1},
		{0, 7, 7, 7, 7, 1, 8, 8, 8, 8, 1, 9, 9, 9, 1, 1},
		{3, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1}}
,
{		{2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2},	/*level 5*/
		{2, 8, 8, 8, 8, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 4},
		{2, 7, 2, 2, 2, 1, 1, 0, 2, 2, 2, 2, 2, 2, 2, 2},
		{2, 7, 2, 9, 9, 1, 1, 0, 2, 2, 6, 2, 6, 2, 6, 2},
		{2, 7, 2, 9, 9, 6, 6, 0, 2, 1, 1, 1, 1, 1, 1, 2},
		{2, 7, 2, 2, 2, 1, 1, 0, 2, 1, 1, 1, 1, 1, 11, 2},
		{2, 1, 1, 1, 1, 1, 1, 0, 7, 7, 7, 7, 7, 7, 7, 2},
		{2, 1, 1, 1, 10, 1, 1, 3, 2, 9, 2, 9, 2, 9, 2, 2},
		{2, 1, 1, 1, 1, 1, 1, 1, 8, 8, 8, 8, 8, 8, 8, 2},
		{2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2}}
,
{		{0, 1, 1, 10, 1, 9, 7, 9, 7, 1, 1, 1, 8, 8, 8, 4},	/*level 6*/
		{0, 1, 6, 6, 6, 1, 9, 7, 9, 7, 1, 1, 1, 1, 1, 0},
		{0, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 0},
		{0, 0, 0, 1, 1, 1, 1, 1, 1, 6, 6, 2, 1, 0, 0, 0},
		{2, 1, 0, 0, 1, 1, 1, 1, 1, 8, 8, 2, 0, 0, 1, 1},
		{7, 2, 1, 11, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1},
		{8, 7, 2, 1, 0, 0, 0, 3, 0, 0, 0, 0, 1, 1, 1, 1},
		{9, 8, 7, 2, 1, 0, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2},
		{8, 9, 8, 7, 2, 1, 1, 1, 1, 1, 1, 1, 2, 9, 9, 9},
		{7, 8, 9, 8, 7, 1, 1, 1, 1, 11, 1, 1, 7, 7, 7, 7}}
,
{		{8, 8, 8, 8, 2, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 5},	/*level 7*/
		{2, 2, 1, 11, 2, 0, 1, 1, 0, 9, 9, 0, 6, 10, 1, 7},
		{1, 1, 1, 1, 1, 0, 1, 1, 0, 9, 9, 0, 1, 6, 1, 7},
		{1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 6, 7},
		{8, 1, 3, 6, 9, 2, 9, 9, 2, 9, 9, 2, 1, 1, 1, 2},
		{8, 1, 0, 9, 9, 2, 9, 9, 2, 9, 9, 2, 1, 1, 1, 2},
		{1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 7},
		{1, 1, 1, 11, 1, 0, 1, 1, 0, 9, 9, 0, 1, 10, 1, 7},
		{2, 2, 1, 1, 2, 0, 1, 1, 0, 9, 9, 0, 1, 1, 1, 7},
		{8, 8, 8, 8, 2, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 0}}
,
{		{7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},	/*level 8*/
		{7, 0, 1, 2, 1, 7, 1, 7, 1, 7, 1, 1, 1, 7, 7, 0},
		{7, 0, 1, 2, 7, 1, 7, 1, 7, 1, 1, 1, 7, 7, 6, 0},
		{7, 0, 1, 2, 2, 2, 2, 2, 2, 2, 11, 1, 7, 6, 1, 0},
		{1, 0, 0, 0, 10, 1, 7, 7, 1, 2, 1, 1, 6, 1, 1, 0},
		{1, 1, 1, 1, 0, 1, 2, 2, 1, 2, 1, 1, 1, 1, 1, 0},
		{1, 6, 6, 1, 0, 1, 7, 7, 1, 0, 0, 0, 0, 0, 0, 0},
		{2, 1, 1, 2, 0, 1, 2, 2, 1, 0, 1, 1, 1, 1, 1, 1},
		{10, 1, 1, 1, 0, 1, 7, 7, 1, 0, 1, 1, 7, 2, 2, 2},
		{7, 7, 7, 7, 0, 3, 0, 0, 0, 0, 1, 1, 7, 7, 7, 7}}
};

/* Nobblins , Hobblins */
uint8_t botPreCacheTable[MAX_LEVELS][2] = {
		{5, 0},	/*level 1*/
		{5, 1},	/*level 2*/
		{5, 2},	/*level 3*/
		{5, 3},	/*level 4*/
		{6, 3},	/*level 5*/
		{6, 3},	/*level 6*/
		{8, 4},	/*level 7*/
		{10,5}	/*level 8*/
};

void getBotsPreCached (uint16_t level, uint8_t *n, uint8_t *h) {
	*n = botPreCacheTable[level][0];
	*h = botPreCacheTable[level][1];
}

uint8_t getItemAt (uint16_t mode, uint16_t level, uint16_t i, uint16_t j){
#if defined(ASSERTIONS_ENABLED)
	uint16_t max_x, max_y;
	assert(mode <= MAX_SCREEN_RESOLUTIONS);
	assert(level <= MAX_LEVELS);

	getTerrainTiles_64x64(mode, &max_x, &max_y);

	assert(j <= max_x);
	assert(i <= max_y);
#endif

	switch(mode){
		case 0 :
			return GridLevel_ScreenResolution_0[level][i][j];
			break;
		case 1 :
		case 2 :
			return GridLevel_ScreenResolution_2[level][i][j];
			break;
		case 3 :
			break;
		case 4 :
			break;
		case 5 :
			break;
		case 6 :
			break;
		case 7 :
			break;
	}
	return (uint8_t)(-1);
}
